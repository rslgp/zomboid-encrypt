<!DOCTYPE html>
<html>
<head>
    <title>Send Data to AWS Lambda</title>
    <script>
        function sendData() {
            // Get user input from text area
            const userInput = document.getElementById("inputData").value;

            // Convert user input to an array, splitting by comma
            const dataArray = userInput.split(",");

            // Create JSON object with dataArray as property
            const data = {
                dataArray: dataArray
            };

            // Convert data object to JSON string
            const jsonData = JSON.stringify(data);

            // Create XMLHttpRequest object
            const xhr = new XMLHttpRequest();

            // Configure request
            xhr.open("POST", "https://lfrhwwjy1c.execute-api.sa-east-1.amazonaws.com/default/zomboid-encrypt", true);
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

            // Send request with JSON data as body
            xhr.send(jsonData);

            // Handle response
            xhr.onreadystatechange = function () {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        // Request successful
                        console.log("Request successful", xhr.responseText);
                    } else {
                        // Request failed
                        console.error("Request failed", xhr.responseText);
                    }
                }
            };
        }
    </script>
</head>
<body>
    <h1>Send Data to AWS Lambda</h1>
    <textarea id="inputData" rows="5" cols="30"></textarea><br>
    <button onclick="sendData()">Send Data</button>
</body>
</html>
